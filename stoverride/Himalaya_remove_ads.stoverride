name: |-
  å–œé©¬æ‹‰é›…å»å¹¿å‘Š
desc: |-
  ç§»é™¤å¼€å±å¹¿å‘Šã€æ’­æ”¾å™¨å¹¿å‘Šã€å„ç±»æ¨èå†…å®¹ï¼Œç²¾ç®€é¢‘é“å’Œæˆ‘çš„é¡µé¢ã€‚
author: |-
  å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
icon: |-
  https://raw.githubusercontent.com/luestr/IconResource/main/App_icon/120px/Himalaya.png
category: |-
  iKeLee
openUrl: |-
  https://apps.apple.com/app/id876336838
tag: |-
  å»å¹¿å‘Š
loon_version: |-
  3.2.4(787)
homepage: |-
  https://github.com/luestr/ProxyResource/blob/main/README.md
date: |-
  2025-05-13 15:17:08

rules:
# å¹¿å‘Šä¸‹å‘
  - DOMAIN,adse.ximalaya.com,REJECT
  - DOMAIN,adsehera.ximalaya.com,REJECT
  - DOMAIN,adse.wsa.ximalaya.com,REJECT
  - DOMAIN,adbehavior.ximalaya.com,REJECT
  - DOMAIN,adbehavior.wsa.ximalaya.com,REJECT

http:

  mitm:
    - "gslbali.ximalaya.com"
    - "search.ximalaya.com"
    - "searchwsa.ximalaya.com"
    - "mobile.ximalaya.com"
    - "mobilehera.ximalaya.com"
    - "mobwsa.ximalaya.com"
    - "m.ximalaya.com"
    - "mwsa.ximalaya.com"

  url-rewrite:
# æœç´¢ - æœç´¢å¡«å……è¯ã€æ¨èæœç´¢
    - >-
      ^https:\/\/(search|searchwsa)\.ximalaya\.com\/hub\/(guideWord|hotWord)V\d\/ - reject-dict
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/discovery-feed\/v\d\/scene\/listen\/refresh\? - reject-dict
# é¦–é¡µ - å³ä¸Šè§’çº¢åŒ…
    - >-
      ^https:\/\/(m|mwsa)\.ximalaya\.com\/x-web-activity\/signIn\/getHomePageSignInInfo\/ - reject-dict
# è®¢é˜… - è®¢é˜…æ¨è
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/subscribe\/v\d\/subscribe\/tagAlbumList$ - reject-dict
# è®¢é˜… - è¿½æ›´ -è¿½æ›´æ¨è
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/track-feed\/v\d\/chase\/recommend\/ - reject-dict
# è®¢é˜… - å…³æ³¨ - ç²¾é€‰èŠ‚ç›®æ¨è
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/social-web\/follow-stream\/category\/\d+$ - reject-dict
# æ’­æ”¾å™¨ - æ¨è
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/mobile-playpage\/playpage\/recommendContentV\d\/ - reject-dict
# æ’­æ”¾å™¨ - æ¨å¹¿
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/mobile-playpage\/playpage\/recommend\/resource\/allocation\/ - reject-dict
# å¼¹çª—
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/firework-portal\/v\d+\/sync\? - reject-dict
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/business-sale-promotion-guide-mobile-web\/popup\/ - reject-dict
# çš®è‚¤é…ç½®
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/app-skin-service\/skin\/setting\/info\/ - reject-dict
# æˆ‘çš„é¡µé¢ - ç›´æ’­æé†’æ°”æ³¡
    - >-
      ^https:\/\/(live|livewsa)\.ximalaya\.com\/lamia\/v1\/subscribe\/status$ - reject-dict
# æˆ‘çš„é¡µé¢ - æœ¬åœ° - ä½ å¯èƒ½æ„Ÿå…´è¶£çš„å†…å®¹
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/subscribe\/v\d\/subscribe\/recommend\? - reject-dict
# æˆ‘çš„é¡µé¢ - å·²è´­ - ä¸ºä½ æ¨è
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/mobile-user\/v\d\/purchased\/recommend\/ - reject-dict

  body-rewrite:
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/discovery-feed\/v\d\/mix\/ response-jq .heData |= map(select(.item.list[].bizType != "SceneListenCard"))
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/discovery-category\/customCategories\/ response-jq .categoryList |= map(.itemList |= map(select(.title | test("ç›´æ’­|123ç‹‚æ¬¢èŠ‚|SVIP"; "i") | not))) | .customCategoryList |= map(select(.title | test("ç›´æ’­|123ç‹‚æ¬¢èŠ‚|SVIP"; "i") | not))
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/football-portal\/diff2\/batch\? response-jq delpaths([["json","ad"]])
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/football-portal\/diff2\/batch\? response-jq delpaths([["json","toc"]])
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/nexus-web\/v\d\/tabs\/customTabs\? response-jq .data.feedTabs |= map(select(.name != "å¤§èµ›"))
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/mobile-user\/v\d\/homePage\/ response-jq delpaths([["data","freeListenV2"]])
    - >-
      ^https:\/\/(mobile|mobilehera|mobwsa)\.ximalaya\.com\/mobile-user\/v\d\/homePage\/ response-jq .data.serviceModule.entrances |= map(select(.name == "å…¨éƒ¨æœåŠ¡"))

  script:
# è®¢é˜… - åœˆå­ - åœˆå­æ¨è
    - match: ^https:\/\/(m|mwsa)\.ximalaya\.com\/community\/square\/v\d\/stream\?
      name: "echoResponse_39"
      type: request
      timeout: 60
      argument: |-
        text=%7B%22data%22%3A%7B%22cards%22%3A%5B%7B%22content%22%3A%7B%7D%2C%22type%22%3A%22RECOMMENDS%22%7D%5D%7D%2C%22ret%22%3A0%7D&status-code=200

script-providers:
  "echoResponse_39":
    url: https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/scripts/echo-response.js
    interval: 86400

