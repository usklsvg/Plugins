#!name=é—²é±¼å»å¹¿å‘Š
#!desc=ç§»é™¤å¼€å±å¹¿å‘Šã€å•†å“ä¿¡æ¯æµå¹¿å‘Šã€æœç´¢æ å¡«å……è¯ã€é¦–é¡µç­¾åˆ°å…¥å£ã€æ‚¬æµ®å¹¿å‘Šï¼Œç²¾ç®€æˆ‘çš„é¡µé¢ã€‚
#!openUrl=https://apps.apple.com/app/id510909506
#!author=å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!tag=å»å¹¿å‘Š
#!system=
#!system_version=
#!loon_version=3.2.4(787)
#!homepage=https://github.com/luestr/ProxyResource/blob/main/README.md
#!icon=https://raw.githubusercontent.com/luestr/IconResource/main/App_icon/120px/FleaMarket.png
#!date=2025-06-29 13:08:37

[Rule]
# æ‹¦æˆªå¹¿å‘Šä¸‹å‘
AND, ((URL-REGEX, "^http:\/\/.+\/amdc\/mobileDispatch"), (USER-AGENT, "%E9%97%B2%E9%B1%BC*")), REJECT

[Rewrite]
# å¼€å±å¹¿å‘Š
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlecommerce\.splash\.ads\/ reject-dict

# é¦–é¡µ - é¡¶éƒ¨æ¨ªå¹…å°éƒ¨ä»¶ã€é¡¶éƒ¨ - æ¨è - ä¿¡æ¯æµå¹¿å‘Š
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlehome\.home\.nextfresh\/ response-body-json-jq '.data.homeTopList |= map(select(.sectionType == "kingkongDo")) | .data.sections |= map(select(.data.clickParam.args.cardType as $ct | $ct != "homeMultiBanner" and $ct != "mamaAD")) | .data.sections |= map(select((.template.name|type=="string")and(.template.name=="idlefish_home_new_commodity_card"or(.template.name|contains("fish_home_tags_item_card")))))'

# é¦–é¡µ - é¡¶éƒ¨æ¨ªå¹…å°éƒ¨ä»¶
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlehome\.widget\.refresh\.get\/ response-body-json-jq '.data.homeTopList |= map(select(.sectionType == "kingkongDo"))'

# é¦–é¡µ - æ–°ç‰ˆé¦–é¡µé¡¶éƒ¨å°éƒ¨ä»¶
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.home\.whale\.modulet\/ response-body-json-jq '.data.container.sections |= map(select(.template.name == "fish_home_miniapp"))'

# é¦–é¡µå·¦ä¸Šè§’ç­¾åˆ°ã€å³ä¸‹è§’æ‚¬æµ®å¹¿å‘Š
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.user\.strategy\.list\/ response-body-json-jq '.data.strategies |= map(select(.type | . != "BIZ_IDLE_COIN_ENTRANCE_2" and . != "FLOAT_LAYER"))'

# å•†å“è¯¦æƒ… - ä¸ºä½ æ¨è
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.item\.recommend\.list\/ reject-dict

# é¡¶éƒ¨ - æ–°å‘ - ä¿¡æ¯æµå¹¿å‘Š
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlehome\.home\.newitem\.page\/ response-body-json-jq '.data.sections |= map(select(.data.clickParam.args.cardType as $ct | $ct != "banner" and $ct != "mamaAD"))'

# æœ¬åœ° - å³ä¸Šè§’é™„è¿‘æç¤º
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.local\.near\.by\.corner\.info\/ reject-dict

# æœ¬åœ° - å¹¿å‘Šæ¨ªå¹…
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.local\.flow\.plat\.section\/ response-body-json-jq 'walk(if type == "object" and has("components") then .components |= map(if .data.template.name == "fish_city_banner" then del(.data.item) else . end) else . end)'

# æœ¬åœ° - ä¿¡æ¯æµå¹¿å‘Š
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.local\.home\/ response-body-json-jq '.data.sections |= map(select((.template.cardEnum != "ads") and (.cardType == "common")))'

# æˆ‘çš„é¡µé¢ - é¡¶éƒ¨æç¤ºã€å¡ç‰‡æ¨å¹¿ã€æ¨ªå¹…å¹¿å‘Š
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.idle\.user\.page\.my\.adapter\/ response-body-json-jq '.data.container.sections |= map(select(.template.name as $name | ["my_fy25_header","my_fy25_user_info","my_fy25_trade","my_fy25_appraise","my_fy25_tools"] | index($name)))'

# æˆ‘çš„é¡µé¢ - å•†å“æ¨å¹¿
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idle\.item\.buy\.feeds\/ reject-dict

# æœç´¢å¡«å……è¯
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlemtopsearch\.search\.shade\/ reject-dict

# é¡¶éƒ¨æ ‡ç­¾å›¾æ ‡
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlehome\.home\.circle\.list\/ response-body-json-jq '.data.circleList[].showInfo.titleImage |= (.lightUrl="" | .url="" | del(.width, .height))'

# æœç´¢ç»“æœå¹¿å‘Š
^https:\/\/g-acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlemtopsearch\.search\/ response-body-json-jq '.data.resultList |= map(if .data.item.main.exContent.dislikeFeedback.clickParam.args.bizType == "ad" then empty else . end)'

# æœç´¢é¡µé¢ - æœç´¢è¯æ¨å¹¿
^https:\/\/acs\.m\.goofish\.com\/gw\/mtop\.taobao\.idlemtopsearch\.item\.search\.activate\/ response-body-json-jq '.data.cardList |= map(if has("cardData") and (.cardData | has("hotwords")) then .cardData |= del(.hotwords) else . end)'

[MitM]
hostname=acs.m.goofish.com, g-acs.m.goofish.com

